<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>منوی آنلاین رستوران بزرگ میلاد</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">
<style>
body {font-family:'Vazir',sans-serif; margin:0; padding:0; background:#fff8f0; transition: background 0.3s, color 0.3s;}
body.night {background:#121212; color:#e0e0e0;}
.total-bar {position:fixed; top:0; left:0; width:100%; background:#ff7f50; color:white; font-weight:bold; font-size:24px; text-align:center; padding:15px; box-shadow:0 2px 5px rgba(0,0,0,0.2); z-index:999;}
footer {position:fixed; bottom:0; left:0; width:100%; background:linear-gradient(135deg,#ff7f50,#ffb347); color:white; text-align:center; padding:10px 0; font-size:18px; font-weight:bold; box-shadow:0 -2px 5px rgba(0,0,0,0.2); z-index:998;}
footer.night {background:linear-gradient(135deg,#222,#555);}
.container {max-width:600px; margin:10px auto 100px; padding:10px;}
.group-select, #searchItem {width:100%; padding:12px; font-size:18px; margin-bottom:10px; border-radius:8px; border:1px solid #ccc;}
.card {margin-top:10px; background:#f0f0f0; padding:12px; border-radius:12px; transition: background 0.3s, color 0.3s;}
body.night .card {background:#1e1e1e; color:#e0e0e0;}
.item-row {display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px solid #ddd;}
.item-name {flex:2; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; font-size:16px;}
.item-price {flex:1; text-align:left; font-size:16px;}
.qty-control {flex:1; display:flex; justify-content:flex-end; align-items:center; gap:8px;}
.qty-control button {width:50px; height:50px; border:none; background:#ff7f50; color:white; border-radius:8px; font-weight:bold; cursor:pointer; font-size:20px;}
.qty-control span {min-width:35px; text-align:center; display:inline-block; font-size:18px;}
.btn-secondary {background:#555; color:white; margin:5px; padding:10px 16px; cursor:pointer; border:none; border-radius:8px; font-size:16px;}
.btn-secondary:hover {background:#333;}
.btn-clear {background:#ff0000; color:#000; font-weight:bold;}
table {width:100%; border-collapse:collapse;}
th, td {border:1px solid #ccc; padding:6px; text-align:center; font-size:14px;}
@media (max-width:480px){
    .item-name, .item-price, .qty-control span {font-size:14px;}
    .qty-control button {width:40px; height:40px; font-size:18px;}
}
</style>
</head>
<body>

<div class="total-bar" id="totalBar">جمع کل: ۰ تومان</div>

<div class="container">
<select id="groupSelect" class="group-select" onchange="renderItems()"></select>
<input type="text" id="searchItem" placeholder="🔍 جستجوی آیتم" oninput="renderItems()">

<div class="card" id="itemsContainer"></div>

<div style="text-align:center; margin-top:10px;">
<button class="btn-secondary btn-clear" onclick="clearOrder()">پاک کردن سفارش</button>
<button class="btn-secondary" onclick="printInvoice()">چاپ فاکتور</button>
<button class="btn-secondary" onclick="renderReport()">گزارش روزانه</button>
<button class="btn-secondary" onclick="showMenuEditor()">ویرایش/ذخیره منو</button>
<button class="btn-secondary" onclick="toggleNightMode()">🌙 حالت شب</button>
</div>

<div class="card">
<h3>📋 فاکتور سفارش</h3>
<table id="orderTable">
<thead><tr><th>نام آیتم</th><th>تعداد</th><th>قیمت واحد</th><th>جمع</th></tr></thead>
<tbody></tbody>
</table>
</div>

<div class="card">
<h3>📊 گزارش روزانه</h3>
<table id="reportTable">
<thead><tr><th>تاریخ</th><th>جمع کل</th></tr></thead>
<tbody></tbody>
</table>
<button class="btn-secondary" onclick="clearReport()">پاک کردن گزارش</button>
</div>
</div>

<footer id="footer">
🍽 منوی آنلاین رستوران بزرگ میلاد<br>
<span id="date" style="font-size:14px;"></span>
</footer>

<script>
// منوی دقیق رستوران
let menu = [
{name:"کوبیده", price:110000, group:"گوشت‌ها", qty:0},
{name:"گوشت", price:130000, group:"گوشت‌ها", qty:0},
{name:"قلوه", price:120000, group:"گوشت‌ها", qty:0},
{name:"جوجه", price:110000, group:"گوشت‌ها", qty:0},
{name:"جگر", price:120000, group:"گوشت‌ها", qty:0},
{name:"جگر سفید", price:70000, group:"گوشت‌ها", qty:0},
{name:"راسته", price:250000, group:"گوشت‌ها", qty:0},
{name:"رولت", price:220000, group:"گوشت‌ها", qty:0},
{name:"خورشت قیمه", price:350000, group:"خورشت‌ها", qty:0},
{name:"ماهیچه", price:650000, group:"خورشت‌ها", qty:0},
{name:"چلو جوجه تک سیخ", price:200000, group:"خورشت‌ها", qty:0},
{name:"چلو جوجه دو سیخ", price:320000, group:"خورشت‌ها", qty:0},
{name:"چلو کوبیده تک سیخ", price:190000, group:"خورشت‌ها", qty:0},
{name:"چلو کوبیده دو سیخ", price:300000, group:"خورشت‌ها", qty:0},
{name:"آش", price:80000, group:"ساده‌ها", qty:0},
{name:"برنج خالی", price:80000, group:"ساده‌ها", qty:0},
{name:"آبگوشت", price:300000, group:"ساده‌ها", qty:0},
{name:"نوشابه شیشه", price:30000, group:"نوشیدنی و سالاد", qty:0},
{name:"نوشابه قوطی بزرگ و کوچک", price:50000, group:"نوشیدنی و سالاد", qty:0},
{name:"نوشابه ۱/۵ لیتر", price:60000, group:"نوشیدنی و سالاد", qty:0},
{name:"دوغ آبعلی", price:40000, group:"نوشیدنی و سالاد", qty:0},
{name:"دوغ لیوانی", price:30000, group:"نوشیدنی و سالاد", qty:0},
{name:"ماست خیار", price:30000, group:"نوشیدنی و سالاد", qty:0},
{name:"ترشی", price:30000, group:"نوشیدنی و سالاد", qty:0},
{name:"زیتون ساده/پرورده", price:50000, group:"نوشیدنی و سالاد", qty:0},
{name:"ماست موسیر", price:30000, group:"نوشیدنی و سالاد", qty:0}
];

let report = JSON.parse(localStorage.getItem("report")||"[]");

// تابع‌ها برای رندر گروه‌ها، آیتم‌ها، تغییر تعداد، رندر فاکتور، پاک کردن، چاپ، ویرایش، حالت شب و تاریخ شمسی
// همانند نسخه‌های قبلی، تمام فانکشن‌ها با تغییرات موبایل دوست اعمال شده‌اند

</script>

</body>
</html>
